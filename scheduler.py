from toolbox import Toolboximport datetimedef OpenAccess(sortedAccessFile):    accessFile = open(sortedAccessFile,'r')    lines = accessFile.readlines()        accessArray = []    for i in range(len(lines)):        accessArray.append(lines[i].split(','))            accessFile.close()            return accessArraydef FindConflict(requestedTime, actions):    startTime = Toolbox.ConvertTime(requestedTime[0])    endTime = Toolbox.ConvertTime(requestedTime[1]) + datetime.timedelta(minutes=30)        for i in range(len(actions)):        currentStartTime = Toolbox.ConvertTime(actions[i][0])        currentEndTime = Toolbox.ConvertTime(actions[i][1])                #check for any time conflicts with pre-existing actions        if ((Toolbox.CompareTime(startTime,currentStartTime) and            not Toolbox.CompareTime(startTime,currentEndTime)) or                         (Toolbox.CompareTime(endTime,currentStartTime) and            not Toolbox.CompareTime(endTime,currentEndTime)) or                    (Toolbox.CompareTime(currentStartTime,startTime) and            not Toolbox.CompareTime(currentStartTime, endTime)) or                        (Toolbox.CompareTime(currentEndTime,startTime) and             not Toolbox.CompareTime(currentEndTime, endTime))):                return True            return False    def Schedule(accessArray):    acceptedActions = []    deleteIndices = []    #Find all data downlink times    for i in range(len(accessArray)):        if (accessArray[i][2].replace('\n','') == 'GroundStation'):            acceptedActions.append([accessArray[i][0],                                    accessArray[i][1],                                    accessArray[i][2].replace('\n',''),                                    'data_downlink'])            deleteIndices.append(i)          #remove data downlink times from future consideration    for i in range(len(deleteIndices)):        del accessArray[deleteIndices[len(deleteIndices)-1-i]]        deleteIndices = []    #find non-conflicting access    for i in range(len(accessArray)):        conflict = FindConflict((accessArray[i][0],accessArray[i][1]),acceptedActions)        if not conflict:            acceptedActions.append([accessArray[i][0],                                    accessArray[i][1],                                    accessArray[i][2].replace('\n',''),                                    'imaging'])                        procEndTime = Toolbox.ConvertTime(accessArray[i][1]) + \                            datetime.timedelta(minutes=30)            procEndTime = Toolbox.ConvertTime(procEndTime)            acceptedActions.append([accessArray[i][1],                                    procEndTime,                                    "NA",                                    "image_processing"])            deleteIndices.append(i)                #remove imaging times from future consideration    for i in range(len(deleteIndices)):        del accessArray[deleteIndices[len(deleteIndices)-1-i]]            actionsLength = len(acceptedActions)    i = 0    while i < (actionsLength - 1):        if acceptedActions[i][1] != acceptedActions[i+1][0]:            acceptedActions.append([acceptedActions[i][1],                                    acceptedActions[i+1][0],                                    "NA",                                    "cruise"])                i += 1            return Toolbox.SortAllAccess(acceptedActions)